module.exports.config={
  name:"ÙÙŠØ¯ÙŠÙˆ",
  version:"1.0.0",
  hasPermssion:0,
  credits: "S H A D O W",
  description:" ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆØ§Øª Ù…Ù† Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø·",
  commandCategory: "Ù‚Ù€Ù€Ø³Ù€Ù€Ù… Ø§Ù„Ù€Ù€Ø§Ø¯ÙˆØ§Øª",
  usages:"https://youtube.com/shorts/iOCOysvvYuc",
  cooldowns:10,
  dependencies:{"ytdl-core":"","simple-youtube-api":""},
  	envConfig: {
		"YOUTUBE_API": "AIzaSyC1HQ3HHQSzgXdvlm5vZ2gWX0Ubk8GYD-c"
	}	
},
  module.exports.handleReply=async function({api:e,event:a,handleReply:t}){
    const n=global.nodemodule.axios,s=global.nodemodule["fs-extra"],
    i=(global.nodemodule.request,await n.get("https://raw.githubusercontent.com/quyenkaneki/data/main/video.json")),
    r=i.data.keyVideo.length,o=i.data.keyVideo[Math.floor(Math.random()*r)],{createReadStream:d,createWriteStream:m,unlinkSync:l,statSync:h}=global.nodemodule["fs-extra"];var c,
    u=a.body;if(c=u,isNaN(c)||(c<1||c>6))return e.sendMessage("ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨ÙŠÙ† Ø§Ù„Ø±Ù‚Ù… 1 Ùˆ 6.  â¤ï¸",a.threadID,a.messageID);e.unsendMessage(t.messageID);try{var g={method:"GET",url:"https://ytstream-download-youtube-videos.p.rapidapi.com/dl",params:{id:`${t.link[a.body-1]}`},headers:{"x-rapidapi-host":"ytstream-download-youtube-videos.p.rapidapi.com","x-rapidapi-key":`${o.API_KEY}`}};var p=(await n.request(g)).data,y=p.title;if("fail"==p.status)return e.sendMessage("á´‹Êœá´Ì‚É´É¢ á´›Êœá´‡Ì‚Ì‰ É¢á´œÌ›Ì‰Éª Ò“ÉªÊŸá´‡ É´á´€Ì€Ê.",a.threadID);var f=Object.keys(p.link)[1],b=p.link[f][0];path1=__dirname+"/youtube/1.mp4";const i=(await n.get(`${b}`,{responseType:"arraybuffer"})).data;return s.writeFileSync(path1,Buffer.from(i,"utf-8")),e.unsendMessage(t.messageID),s.statSync(__dirname+"/youtube/1.mp4").size>26e6?e.sendMessage("Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ø§ÙƒØ¨Ø± Ù…Ù†  25á´Ê™.",a.threadID,(()=>l(__dirname+"/youtube/1.mp4")),a.messageID):e.sendMessage({body:`Â» ${y}`,attachment:s.createReadStream(__dirname+"/youtube/1.mp4")},a.threadID,(()=>s.unlinkSync(__dirname+"/youtube/1.mp4")),a.messageID)}catch{return e.sendMessage("Ø­Ø¯Ø« Ø®Ø·Ø§Ø¡ .!",a.threadID,a.messageID)}for(let e=1;e<7;e++)l(__dirname+`/youtube/${e}.png`)},module.exports.run=async function({api:e,event:a,args:t}){const n=global.nodemodule.axios,s=global.nodemodule["fs-extra"],i=(global.nodemodule.request,await n.get("https://raw.githubusercontent.com/quyenkaneki/data/main/video.json")),r=i.data.keyVideo.length,o=i.data.keyVideo[Math.floor(Math.random()*r)],d=(global.nodemodule["ytdl-core"],global.nodemodule["simple-youtube-api"]),{createReadStream:m,createWriteStream:l,unlinkSync:h,statSync:c}=global.nodemodule["fs-extra"];var u=["AIzaSyBRycaxsBIsmtjAtFJJYujIteWFmpiAtOg"];const g=u[Math.floor(Math.random()*u.length)],p=new d(g);if(0==t.length||!t)return e.sendMessage("Â» Ø­Ù€Ù€Ø¯Ø« Ø®Ù€Ù€Ø·Ù€Ù€Ø£",a.threadID,a.messageID);const y=t.join(" ");if(0==t.join(" ").indexOf("https://")){var f={method:"GET",url:"https://ytstream-download-youtube-videos.p.rapidapi.com/dl",params:{id:t.join(" ").split(/^.*(youtu.be\/|v\/|embed\/|watch\?|youtube.com\/user\/[^#]*#([^\/]*?\/)*)\??v?=?([^#\&\?]*).*/)[3]},headers:{"x-rapidapi-host":"ytstream-download-youtube-videos.p.rapidapi.com","x-rapidapi-key":`${o.API_KEY}`}};var b=(await n.request(f)).data,v=b.title;if("fail"==b.status)return e.sendMessage("ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ .",a.threadID);var k=Object.keys(b.link)[1],I=b.link[k][0];path1=__dirname+"/youtube/1.mp4";const i=(await n.get(`${I}`,{responseType:"arraybuffer"})).data;return s.writeFileSync(path1,Buffer.from(i,"utf-8")),s.statSync(__dirname+"/youtube/1.mp4").size>26e6?e.sendMessage("Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ø§ÙƒØ¨Ø± Ù…Ù†  25á´Ê™.",a.threadID,(()=>h(__dirname+"/youtube/1.mp4")),a.messageID):e.sendMessage({body:`Â» ${v}`,attachment:s.createReadStream(__dirname+"/youtube/1.mp4")},a.threadID,(()=>s.unlinkSync(__dirname+"/youtube/1.mp4")),a.messageID)}try{const t=global.nodemodule["fs-extra"],n=global.nodemodule.axios;var w=[],_="",D=0,S=0,M=[],$=await p.searchVideos(y,6);for(let e of $){if(void 0===e.id)return;w.push(e.id);e.id;let a=__dirname+`/youtube/${S+=1}.png`,s=`https://img.youtube.com/vi/${e.id}/hqdefault.jpg`,i=(await n.get(`${s}`,{responseType:"arraybuffer"})).data,r=(await n.get(`https://www.googleapis.com/youtube/v3/videos?part=contentDetails&id=${e.id}&key=${g}`)).data.items[0].contentDetails.duration.slice(2).replace("S","").replace("M",":");(await n.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${e.id}&key=${g}`)).data.items[0].snippet.channelTitle;if(t.writeFileSync(a,Buffer.from(i,"utf-8")),M.push(t.createReadStream(__dirname+`/youtube/${S}.png`)),1==(D=D+=1))var x="â“µ";if(2==D)x="â“¶";if(3==D)x="â“·";if(4==D)x="â“¸";if(5==D)x="â“¹";if(6==D)x="â“º";_+=`${x} ã€Š${r}ã€‹ ${e.title}\n\n`}var j=`Â»ğŸ” Ù„Ù€Ù€Ø¯ÙŠÙ€Ù€Ùƒ ${w.length} Ù†Ù€ØªÙ€Ø§Ø¦Ù€Ø¬ ØªÙ€Ø·Ù€Ø§Ø¨Ù€Ù‚ Ø¨Ù€Ø­Ù€Ø«Ù€Ùƒ  :\n\n${_}Â» Ù‚Ù… Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø±Ù‚Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù„Ù„ØªØ­Ù…ÙŠÙ„`;return e.sendMessage({attachment:M,body:j},a.threadID,((e,t)=>global.client.handleReply.push({name:this.config.name,messageID:t.messageID,author:a.senderID,link:w})),a.messageID)}catch(t){return e.sendMessage("Â» Ø¶Ù€ÙŠÙ€Ù Ù„Ù€ÙŠÙ€Ù†Ù€Ùƒ Ø§Ù„Ù€ÙÙ€Ø¯ÙŠÙ€Ùˆ Ù„Ù€Ù„Ù€ØªÙ€Ø­Ù€Ù…Ù€ÙŠÙ€Ù„ Ø§Ùˆ Ø¹Ù€Ù†Ù€ÙˆØ§Ù† Ù„Ù€Ù„Ù€Ø¨Ù€Ø­Ù€Ø« "+t.message,a.threadID,a.messageID)}};
